## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ 1-2 –û—Å–Ω–æ–≤—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é R

–§–∏–ª–∏–ø–ø–µ–Ω–∫–æ –ú–∞–∫—Å–∏–º –ë–ò–°–û-02-20

## –¶–µ–ª—å —Ä–∞–±–æ—Ç—ã:

---

1. –†–∞–∑–≤–∏—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è R –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
2. –ó–∞–∫—Ä–µ–ø–∏—Ç—å –∑–Ω–∞–Ω–∏—è –±–∞–∑–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–∞ R
3. –†–∞–∑–≤–∏—Ç—å –ø—Ä–∫–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–≤—ã–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ÃÜ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞ dplyr ‚Äì —Ñ—É–Ω–∫—Ü–∏–∏ select(), filter(), mutate(), arrange(), group_by()

---

## –ó–∞–¥–∞–Ω–∏–µ:

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–∏ÃÜ –≤ –ø–∞–∫–µ—Ç dplyr –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö starwars —Å –ø–æ–º–æ—â—å—é —è–∑—ã–∫–∞ R –∏ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ- —Å—ã:

1\. –°–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –≤ –¥–∞—Ç–∞—Ñ—Ä–µ–∏ÃÜ–º–µ?

2\. –°–∫–æ–ª—å–∫–æ —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ –¥–∞—Ç–∞—Ñ—Ä–µ–∏ÃÜ–º–µ?

3\. –ö–∞–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω—ã–∏ÃÜ –≤–∏–¥ –¥–∞—Ç–∞—Ñ—Ä–µ–∏ÃÜ–º–∞? 4. –°–∫–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ä–∞—Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–∏ÃÜ (species) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–æ –≤ –¥–∞–Ω–Ω—ã—Ö?

5\. –ù–∞–∏ÃÜ—Ç–∏ —Å–∞–º–æ–≥–æ –≤—ã—Å–æ–∫–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.

6\. –ù–∞–∏ÃÜ—Ç–∏ –≤—Å–µ—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–∏ÃÜ –Ω–∏–∂–µ 170

7\. –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –ò–ú–¢ (–∏–Ω–¥–µ–∫—Å –º–∞—Å—Å—ã —Ç–µ–ª–∞) –¥–ª—è –≤—Å–µ—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–∏ÃÜ. –ò–ú–¢ –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å –ø–æ —Ñ–æ—Ä–º—É–ª–µ ùêº = ùëö , –≥–¥–µ ùëö -- –º–∞—Å—Å–∞ (weight), –∞ h -- —Ä–æ—Å—Ç (height).

8\. –ù–∞–∏ÃÜ—Ç–∏ 10 —Å–∞–º—ã—Ö "–≤—ã—Ç—è–Ω—É—Ç—ã—Ö" –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–∏ÃÜ. "–í—ã—Ç—è–Ω—É—Ç–æ—Å—Ç—å" –æ—Ü–µ–Ω–∏—Ç—å –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –º–∞—Å—Å—ã (mass) –∫ —Ä–æ—Å—Ç—É (height) –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–∏ÃÜ.

9\. –ù–∞–∏ÃÜ—Ç–∏ —Å—Ä–µ–¥–Ω–∏–∏ÃÜ –≤–æ–∑—Ä–∞—Å—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–∏ÃÜ –∫–∞–∂–¥–æ–∏ÃÜ —Ä–∞—Å—ã –≤—Å–µ–ª–µ–Ω–Ω–æ–∏ÃÜ –ó–≤–µ–∑–¥–Ω—ã—Ö –≤–æ–∏ÃÜ–Ω.

10\. –ù–∞–∏ÃÜ—Ç–∏ —Å–∞–º—ã–∏ÃÜ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–∏ÃÜ —Ü–≤–µ—Ç –≥–ª–∞–∑ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–∏ÃÜ –≤—Å–µ–ª–µ–Ω–Ω–æ–∏ÃÜ –ó–≤–µ–∑–¥–Ω—ã—Ö –≤–æ–∏ÃÜ–Ω.

11\. –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å —Å—Ä–µ–¥–Ω—é—é –¥–ª–∏–Ω—É –∏–º–µ–Ω–∏ –≤ –∫–∞–∂–¥–æ–∏ÃÜ —Ä–∞—Å–µ –≤—Å–µ–ª–µ–Ω–Ω–æ–∏ÃÜ –ó–≤–µ–∑–¥–Ω—ã—Ö –≤–æ–∏ÃÜ–Ω.

12\. –û—Ñ–æ—Ä–º–∏—Ç—å –æ—Ç—á–µ—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —à–∞–±–ª–æ–Ω–æ–º ---

## –•–æ–¥ —Ä–∞–±–æ—Ç—ã:

1.  –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–∞–∫–µ—Ç "dplyr"

```{r}
library(dplyr)
```

2.  –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ 1 –≤–æ–ø—Ä–æ—Å

```{r}
starwars %>% nrow()
```

3.  –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ 2 –≤–æ–ø—Ä–æ—Å

```{r}
starwars %>% ncol()
```

4.  –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ 3 –≤–æ–ø—Ä–æ—Å

```{r}
starwars %>% glimpse()
```

5.  –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ 4 –≤–æ–ø—Ä–æ—Å

```{r}
starwars %>% distinct(species) %>% nrow()
```

6.  –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ 5 –≤–æ–ø—Ä–æ—Å

```{r}
starwars %>% filter(height == max(height, na.rm = TRUE))
```

7.  –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ 6 –≤–æ–ø—Ä–æ—Å

```{r}
starwars %>% filter(height < 170)
```

8.  –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ 7 –≤–æ–ø—Ä–æ—Å

```{r}
starwars %>% mutate(BMI = mass / ((height / 100) ^ 2))
```

9.  –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ 8 –≤–æ–ø—Ä–æ—Å

```{r}
starwars %>% mutate(stretchiness = mass / height) %>% top_n(10, stretchiness)
```

10. –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ 9 –≤–æ–ø—Ä–æ—Å

```{r}
starwars %>% group_by(species) %>% summarise(avg_age = mean(birth_year, na.rm = TRUE))
```

11. –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ 10 –≤–æ–ø—Ä–æ—Å

```{r}
starwars %>% count(eye_color) %>% top_n(1, n)
```

12. –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ 11 –≤–æ–ø—Ä–æ—Å

```{r}
starwars %>% group_by(species) %>% summarise(avg_name_length = mean(nchar(name)))
```

## –û—Ü–µ–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã –±—ã–ª–∏ –æ—Å–≤–æ–µ–Ω—ã –±–∞–∑–æ–≤—ã–µ –Ω–∞–≤—ã–∫–∏ —è–∑—ã–∫–∞ R, –∞ —Ç–∞–∫ –∂–µ –ø–æ–ª—É—á–µ–Ω—ã –Ω–∞–≤—ã–∫–∏ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –ø–∞–∫–µ—Ç–æ–º dplyr
